<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:ace="http://www.icefaces.org/icefaces/components">
	
	<c:set var="bean" value="#{formStateVAW4Bean}" />
	<c:set var="editable" value="#{contactFormBean.editMode and bean.empEdit}" />
	<c:set var="form" value="#{bean.form}" />

	<div class="miniTab pad15lt" style="width:875px;height:2350px">
		<div class="BKwhite" >
			<div id="" class="scrollPnlTab"
				onscroll="setScrollPos(this.scrollTop);">
				<div class="w4_VA_20">
					<div class="FL" style="margin-top: 10px;">
						<div class="FL" style="margin-left: 541px;">
							<ace:textEntry value="" disabled="true"
								maxlength="9" id="vaW4ClaimYourself"
								style="height: 9px;width: 110px;margin-left: 39px;margin-top: 143px;">
								<ace:ajax />
							</ace:textEntry>
						</div>
						<div class="FL" style="margin-left: 541px;">
							<ace:textEntry value="" disabled="true"
								maxlength="9" id="vaW4SpouseClaimed"
								style="height: 9px;width: 110px;margin-left: 39px;margin-top: 18px;">
								<ace:ajax />
							</ace:textEntry>
						</div>
						<div class="FL" style="margin-left: 541px;">
							<ace:textEntry value="" disabled="true"
								maxlength="9" id="vaW4Taxreturn"
								style="height: 9px;width: 110px;margin-left: 39px;margin-top: 18px;">
								<ace:ajax />
							</ace:textEntry>
						</div>
						<div class="FL" style="margin-left: 541px;">
							<ace:textEntry value="" disabled="true"
								maxlength="9" id="vaW4PersonalException"
								style="height: 9px;width: 110px;margin-left: 39px;margin-top: 11px;">
								<ace:ajax />
							</ace:textEntry>
						</div>
						<div class="FL" style="margin-left: 541px;">
							<ace:textEntry value="" disabled="true"
								maxlength="9" id="vaW4Age"
								style="height: 9px;width: 110px;margin-left: 39px;margin-top: 28px;">
								<ace:ajax />
							</ace:textEntry>
						</div>
						<div class="FL" style="margin-left: 541px;">
							<ace:textEntry value="" disabled="true"
								maxlength="9" id="vaW4ClaimAge"
								style="height: 9px;width: 110px;margin-left: 39px;margin-top: 18px;">
								<ace:ajax />
							</ace:textEntry>
						</div>
						<div class="FL" style="margin-left: 541px;">
							<ace:textEntry value="" disabled="true"
								maxlength="9" id="vaW4Blind"
								style="height: 9px;width: 110px;margin-left: 39px;margin-top: 18px;">
								<ace:ajax />
							</ace:textEntry>
						</div>
						<div class="FL" style="margin-left: 541px;">
							<ace:textEntry value="" disabled="true"
								maxlength="9" id="vaW4BlindSpouse"
								style="height: 9px;width: 110px;margin-left: 39px;margin-top: 18px;">
								<ace:ajax />
							</ace:textEntry>
						</div>
						<div class="FL" style="margin-left: 541px;">
							<ace:textEntry value="" disabled="true"
								maxlength="9" id="vaW4Claimi"
								style="height: 9px;width: 110px;margin-left: 178px;margin-top: 14px;">
								<ace:ajax />
							</ace:textEntry>
						</div>
						<div class="FL" style="margin-left: 541px;">
							<ace:textEntry value="" disabled="true"
								maxlength="9" id="vaW4Claiming"
								style="height: 9px;width: 110px;margin-left: 179px;margin-top: 15px;">
								<ace:ajax />
							</ace:textEntry>
						</div>
					</div>
					<div class="FL" style="margin-top: 10px;">
						<div class="FL">
							<ace:textEntry value="#{form.socialSecurity}" disabled="#{!editable}"
								maxlength="11" id="vaW4SocialSecurity"
								style="height: 9px;width: 175px;margin-left: 57px;margin-top: 128px;">
								<ace:ajax />
								<f:converter converterId="lightspeed.SSNConverter" />
							</ace:textEntry>
						</div>
						<div class="FL">
							<ace:textEntry value="#{form.fullName}" disabled="#{!editable}"
								maxlength="50" id="vaW4FullName"
								style="height: 9px;width: 572px;margin-left: 14px;margin-top: 128px;">
								<ace:ajax />
							</ace:textEntry>
						</div>
					</div>
					<div class="FL" style="margin-top: 10px;">
						<div class="FL">
							<ace:textEntry value="#{form.address.addrLine1}" disabled="#{!editable}"
								maxlength="60" id="vaW4AddrLine"
								style="height: 9px;width: 768px;margin-left: 57px;margin-top: 16px;">
								<ace:ajax />
							</ace:textEntry>
						</div>
					</div>
					<div class="FL" style="margin-top: 10px;">
						<div class="FL">
							<ace:textEntry value="#{form.address.city}" disabled="#{!editable}"
								maxlength="30" id="vaW4City"
								style="height: 9px;width: 373px;margin-left: 57px;margin-top: 16px;">
								<ace:ajax />
							</ace:textEntry>
						</div>
						<div class="FL">
							<h:selectOneMenu styleClass="FL" id="vaW4AddrState"
								value="#{form.address.state}"
								style="height: 16px;width: 88px;margin-left: 14px;margin-top: 17px;"
								disabled="#{!editable}">
								<f:selectItems value="#{applicationScopeBean.stateCodeDL['US']}" />
							</h:selectOneMenu>
						</div>
						<div class="FL">
							<ace:textEntry value="#{form.address.zip}" disabled="#{!editable}"
								maxlength="5" id="vaW4Zip"
								style="height: 9px;width: 179px;margin-left: 108px;margin-top: 17px;">
								<ace:ajax />
							</ace:textEntry>
						</div>
					</div>
					<div class="FL" style="margin-top: 10px;">
						<div class="FL">
							<ace:textEntry value="#{form.personalExemptions}" disabled="#{!editable}"
								maxlength="4" id="vaW4PersonalExemptions"
								style="height: 9px;width: 114px;margin-left: 711px;margin-top: 46px;">
								<f:validateLongRange minimum="0" />
								<ace:ajax />
							</ace:textEntry>
						</div>
					</div>
					<div class="FL" style="margin-top: 10px;">
						<div class="FL">
							<ace:textEntry value="#{form.blindnessExemption}" disabled="#{!editable}"
								maxlength="4" id="vaW4BlindnessExemption"
								style="height: 9px;width: 114px;margin-left: 711px;margin-top: 14px;">
								<f:validateLongRange minimum="0" />
								<ace:ajax />
							</ace:textEntry>
						</div>
					</div>
					<div class="FL" style="margin-top: 10px;">
						<div class="FL">
							<ace:textEntry value="#{form.totalExemptions}" disabled="#{!editable}"
								maxlength="4" id="vaW4TotalExemption"
								style="height: 9px;width: 114px;margin-left: 711px;margin-top: 4px;">
								<f:validateLongRange minimum="0" />
								<ace:ajax />
							</ace:textEntry>
						</div>
					</div>
					<div class="FL" style="margin-top: 10px;">
						<div class="FL">
							<ace:textEntry value="#{form.additionalAmount}" disabled="#{!editable}"
								maxlength="9" id="vaW4AdditionalAmount"
								style="height: 9px;width: 114px;margin-left: 711px;margin-top: 4px;">
								<f:validateLongRange minimum="0" />
								<ace:ajax />
							</ace:textEntry>
						</div>
					</div>
					<div class="FL"
						style="margin-top: 25px;margin-left: 711px;width:100%;">
						<div class="FL">
							<h:selectBooleanCheckbox styleClass="ckbx" id="vaW43"
								value="#{form.is8a}"
								disabled="#{!editable}">
								<ace:ajax render="@form" />
							</h:selectBooleanCheckbox>
						</div>
					</div>
					<div class="FL"
						style="margin-top: 42px;margin-left: 711px;width:100%;">
						<div class="FL">
							<h:selectBooleanCheckbox styleClass="ckbx" id="vaW44"
								value="#{form.is8b}"
								disabled="#{!editable}">
								<ace:ajax render="@form" />
							</h:selectBooleanCheckbox>
						</div>
					</div>
					<div class="FL" style="margin-top: 10px;">
						<div class="FL">
							<ace:textEntry value="#{contactFormBean.contactDocument.empSignature.date}" disabled="true"
								id="vaW4EmployeeDate" 
								style="height: 9px;width: 175px;margin-left: 632px;margin-top: 4px;">
								<f:convertDateTime pattern="MM/dd/yyyy" timeZone="#{applicationScopeBean.timeZone}"/>
								<ace:ajax />
							</ace:textEntry>
						</div>
					</div>
				
				<!-- SIGNATURE DISPLAY -->
					<div class="FL" style="margin-top: -27px;margin-left: 62px;">
						<span> <h:outputText escape="false" styleClass="txt12 W200"
								rendered="#{bean.contactDoc.empSignature ne null}">
								<h:outputText value="E-signed by" styleClass="U" />
								<h:outputText value=" #{bean.contactDoc.empSignature.name}"
									styleClass="U B txtBlue" />
								<h:outputText
									value=" #{bean.contactDoc.empSignature.displayTime}" />
								<br />
								<h:outputText value="# #{bean.contactDoc.empSignature.uuid}" />
							</h:outputText>
						</span>
						<!-- SIGN AND SUBMIT BUTTON START -->
						<h:panelGroup styleClass="FL"
							rendered="#{(bean.contactDoc.submitable) or (bean.contactDoc.status eq 'PENDING')}">
							<h:panelGroup styleClass="btn_legend"
								style="margin-top:11px; margin-left:1px;">
								<h:panelGroup
									rendered="#{(bean.contactDoc.status ne 'PENDING') and (bean.empEdit or
                           (contactFormBean.vContact.id eq contactFormBean.contactDocument.contact.id))}">
									<span class="btnMiniLtHot" />
									<ace:linkButton value="Sign &amp; Submit"
										action="#{contactFormBean.actionSubmit}"
										title="Signature field" styleClass="btnMiniCt" />
									<span class="btnMiniRtHot" />
								</h:panelGroup>
								<h:panelGroup
									rendered="#{not (bean.empEdit or
                           (contactFormBean.vContact.id eq contactFormBean.contactDocument.contact.id))
                           or (bean.contactDoc.status eq 'PENDING')}">
									<span class="btnMiniLt" />
									<span> <h:commandLink value="Sign &amp; Submit"
											onclick="return false;" styleClass="btnMiniDisCt dislink" />
									</span>
									<span class="btnMiniRt" />
								</h:panelGroup>
							</h:panelGroup>
						</h:panelGroup>
						<!-- SIGN AND SUBMIT BUTTON END -->
					</div>
					<!-- SIGNATURE ROW END -->
				</div>
			</div>
			<div class="w4_VA_1_20">
			</div>	
			<!-- end scroll div -->

			<div class="rowCont pad-15lt" style="height:30px; width:845px;"/>
			<h:panelGroup rendered="#{! contactFormBean.isPreviewDocument}">
				<div class="FL BKwhite sfFormBorder1 pad30tp pad15bm"
					style="width: 838px; margin-bottom: 15px;">
					<ui:include src="signatureHistory.xhtml">
						<ui:param name="bean" value="#{bean}" />
						<ui:param name="events"
							value="#{bean.contactDoc.contactDocEvents}" />
					</ui:include>
				</div>
			</h:panelGroup>
		</div>
	</div>
</ui:composition>