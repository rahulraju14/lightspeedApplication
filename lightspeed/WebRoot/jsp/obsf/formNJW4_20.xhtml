<ui:composition xmlns="http://www.w3.org/1999/xhtml"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:c="http://java.sun.com/jsp/jstl/core"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:ace="http://www.icefaces.org/icefaces/components">
   <c:set var="bean" value="#{formStateNJW4Bean}" />
   <c:set var="editable"
      value="#{contactFormBean.editMode and bean.empEdit}" />
   <c:set var="form" value="#{bean.form}" />
   <!-- LS-3640,STATE W4 NJ -->
   <div class="miniTab pad15lt" style="width:875px;">
   <div class="BKwhite">
      <div id="" class="scrollPnlTab"
         onscroll="setScrollPos(this.scrollTop);">
         <div class="w4_NJ_20">
            <!-- Employee Personal Info - Step 1 section -->
            <div class="FL" style="margin-top: 68px; margin-left: -79px;">
               <div class="FL">
                  <div class="FL">
                     <ace:textEntry value="#{form.socialSecurity}"
                        disabled="#{!editable}" styleClass="W120" maxlength="11"
                        id="njW4Ssn"
                        style="margin-top: 4px;margin-left: 170px;height:10px;width: 241px;">
                        <f:converter converterId="lightspeed.SSNConverter" />
                     </ace:textEntry>
                  </div>
               </div>
               <div class="FL">
                  <div class="FL">
                     <ace:textEntry value="#{form.fullName}"
                        disabled="#{!editable}" styleClass="W120" maxlength="50"
                        id="njW4FirstName"
                        style="margin-top: 14px;margin-left: 174px;height:10px;width: 383px;">
                     </ace:textEntry>
                  </div>
                  <div class="FL">
                     <h:selectBooleanCheckbox styleClass="ckbx" id="njW4Single"
                        value="#{form.single}" disabled="#{!editable}"
                        valueChangeListener="#{bean.listenSingle}"
                        style="margin-left: 44px;margin-top: 0px;">
                        <ace:ajax execute="@this" render="@all"/>
                     </h:selectBooleanCheckbox>
                  </div>
                  <div class="FL">
                     <h:selectBooleanCheckbox styleClass="ckbx" id="njW4UnionCoupleJoint"
                        value="#{form.unionCoupleJoint}" disabled="#{!editable}"
                        valueChangeListener="#{bean.listenUnionCoupleJoint}"
                        style="margin-left: -16px;margin-top: 18px;" >
                        <ace:ajax execute="@this" render="@all"/>
                     </h:selectBooleanCheckbox>
                  </div>
               </div>
               <div class="FL">
                  <div class="FL" style="margin-left: -7px;">
                     <div class="FL">
                        <ace:textEntry value="#{form.address.addrLine1}"
                           disabled="#{!editable}" styleClass="W200" maxlength="60"
                           id="njW4HomeAddr1"
                           style="margin-left: 193px;height: 10px;width: 372px;margin-top: 5px;" />
                     </div>
                     <div class="FL">
                        <h:selectBooleanCheckbox styleClass="ckbx" id="njW4UnionCoupleSeparate"
                           value="#{form.unionCoupleSeparate}" disabled="#{!editable}"
                           valueChangeListener="#{bean.listenUnionCoupleSeparate}"
                           style="margin-left: 43px;margin-top: -2px;">
                           <ace:ajax execute="@this" render="@all"/>
                        </h:selectBooleanCheckbox>
                     </div>
                     <div class="FL">
                        <h:selectBooleanCheckbox styleClass="ckbx" id="njW4HeadofHousehold"
                           value="#{form.headofHousehold}" disabled="#{!editable}"
                           valueChangeListener="#{bean.listenHeadofHousehold}"
                           style="margin-left: -16px;margin-top: 15px;">
                           <ace:ajax execute="@this" render="@all"/>
                        </h:selectBooleanCheckbox>
                     </div>
                  </div>
                  <div class="FL">
                     <div class="FL" style="margin-left: -7px;">
                        <div class="FL">
                           <ace:textEntry value="#{form.address.city}" disabled="#{!editable}" styleClass="W200" maxlength="30"
                              id="njW4City"
                              style="margin-top: 0px;margin-left:169px;height: 10px;width: 213px;" />
                        </div>
                        <div class="FL">
                           <h:selectOneMenu styleClass="FL" id="njW4state"
                              value="#{form.address.state}"
                              style="margin-top: 1px;margin-left:35px;height: 16px;width: 44px;"
                              disabled="#{!editable}">
                              <f:selectItems
                                 value="#{applicationScopeBean.stateCodeDL['US']}" />
                           </h:selectOneMenu>
                        </div>
                        <div class="FL">
                           <ace:textEntry value="#{form.address.zip}" 
                              disabled="#{!editable}" styleClass="W200" maxlength="5"
                              id="njW4Zip"
                              style="margin-top: 1px;margin-left:24px;height: 9px;width: 64px;" />
                        </div>
                        <div class="FL" style="margin-top: -4px;margin-left: 47px;">
                           <h:selectBooleanCheckbox styleClass="ckbx"
                              valueChangeListener="#{bean.listenWidower}"
                              id="njW4Widower" value="#{form.widower}" disabled="#{!editable}">
                              <ace:ajax render="@form"/>
                           </h:selectBooleanCheckbox>
                        </div>
                     </div>
                     <div class="FL">
                        <div class="FL">
                           <ace:textEntry value="#{form.instructionLetter}"
                              disabled="#{!editable}" styleClass="W200" maxlength="1"
                              id="njW4InstructionLetter"
                              style="margin-left: 740px;height: 10px;width: 160px;margin-top: 3px;" />
                        </div>
                     </div>
                     <div class="FL">
                        <div class="FL">
                           <ace:textEntry value="#{form.claiming}"
                              disabled="#{!editable}" styleClass="W200" maxlength="9"
                              id="njW4Claiming"
                              style="margin-left: 740px;height: 10px;width: 160px;margin-top: 7px;" />
                        </div>
                     </div>
                     <div class="FL">
                        <div class="FL">
                           <ace:textEntry value="#{form.deductionAmount}"
                              disabled="#{!editable}" styleClass="W200" maxlength="9"
                              id="njW4DeductionAmount"
                              style="margin-left: 768px;height: 10px;width: 131px;margin-top: 10px;" />
                        </div>
                     </div>
                     <div class="FL">
                        <div class="FL">
                           <h:selectOneMenu id="njw4Execpt" style="margin-left: 740px;height: 18px;width: 160px;margin-top: 15px;" 
                              disabled="#{!editable}"  value = "#{form.exempt}">
                              <f:selectItem itemValue = "false" itemLabel = " " />
                              <f:selectItem itemValue = "true" itemLabel = "Exempt" />
                           </h:selectOneMenu>
                        </div>
                     </div>
                     <div class="FL">
                        <div class="FL">
                           <ace:dateTimeEntry id="njw4DateOfHire"
                              tabindex="0"
                              pattern="MM/dd/yyyy"
                              renderAsPopup="true"
                              styleClass="pad3lt FL"
                              value="#{form.dateofHire}"
                              disabled="#{!editable}"
                              style="margin-left: 263px;height: 18px;width: 160px;margin-top: 22px;">
                              <f:convertDateTime pattern="MM/dd/yyyy" timeZone="#{applicationScopeBean.timeZone}"/>
                           </ace:dateTimeEntry>
                        </div>
                     </div>
                     <div class="FL"
                        style="margin-top: 62px; margin-left: 0px; height: 29px;">
                        <!-- SIGNATURE DISPLAY -->
                        <div class="FL" style="margin-top: -53px;margin-left: 258px;">
                           <span>
                              <h:outputText escape="false"
                                 styleClass="txt12 W200"
                                 rendered="#{bean.contactDoc.empSignature ne null}">
                                 <h:outputText value="E-signed by" styleClass="U" />
                                 <h:outputText value=" #{bean.contactDoc.empSignature.name}"
                                    styleClass="U B txtBlue" />
                                 <h:outputText
                                    value=" #{bean.contactDoc.empSignature.displayTime}" />
                                 <br />
                                 <h:outputText value="# #{bean.contactDoc.empSignature.uuid}" />
                              </h:outputText>
                           </span>
                           <!-- SIGN AND SUBMIT BUTTON START -->
                           <h:panelGroup styleClass="FL"
                              rendered="#{(bean.contactDoc.submitable) or (bean.contactDoc.status eq 'PENDING')}">
                              <h:panelGroup styleClass="btn_legend"
                                 style="margin-top:16px; margin-left:4px;">
                                 <h:panelGroup
                                    rendered="#{(bean.contactDoc.status ne 'PENDING') and (bean.empEdit or
                                    (contactFormBean.vContact.id eq contactFormBean.contactDocument.contact.id))}">
                                    <span class="btnMiniLtHot" />
                                    <ace:linkButton value="Sign &amp; Submit"
                                       action="#{contactFormBean.actionSubmit}"
                                       title="Signature field" styleClass="btnMiniCt" />
                                    <span class="btnMiniRtHot" />
                                 </h:panelGroup>
                                 <h:panelGroup
                                    rendered="#{not (bean.empEdit or
                                    (contactFormBean.vContact.id eq contactFormBean.contactDocument.contact.id))
                                    or (bean.contactDoc.status eq 'PENDING')}">
                                    <span class="btnMiniLt" />
                                    <span>
                                       <h:commandLink value="Sign &amp; Submit"
                                          onclick="return false;" styleClass="btnMiniDisCt dislink" />
                                    </span>
                                    <span class="btnMiniRt" />
                                 </h:panelGroup>
                              </h:panelGroup>
                           </h:panelGroup>
                           <!-- SIGN AND SUBMIT BUTTON END -->
                        </div>
                        <!-- SIGNATURE ROW END -->
                        <div class="FL txt14"
                           style="margin-left: 671px; margin-top: -51px;width: 100px;height:10px;">
                           <ace:textEntry id="njW4Date" maxlength="8" disabled="true"
                              value="#{contactFormBean.contactDocument.empSignature.date}"
                              style="width:93%; margin-top: -1px;">
                              <f:convertDateTime pattern="MM/dd/yyyy" timeZone="#{applicationScopeBean.timeZone}"/>
                           </ace:textEntry>
                        </div>
                        <div class="FL" style="margin-top:-6px;margin-left: 370px;width:100%">
                          <h:outputText value="Employer section to be completed by TEAM" lang="en" style="color: red;font-weight: bold;font-size: 15px;"></h:outputText>  
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div class="w4_NJ_1_20">
         </div>
      </div>
      <!-- end scroll div -->
      <!-- LS-3640,STATE W4 NJ -->
      <div class="rowCont pad-15lt" style="width: 845px;" />
         <h:panelGroup rendered="#{! contactFormBean.isPreviewDocument}">
            <div class="FL BKwhite sfFormBorder1 pad30tp pad15bm"
               style="width: 838px; margin-bottom: 15px;">
               <ui:include src="signatureHistory.xhtml">
                  <ui:param name="bean" value="#{bean}" />
                  <ui:param name="events"
                     value="#{bean.contactDoc.contactDocEvents}" />
               </ui:include>
            </div>
         </h:panelGroup>
      </div>
   </div>
</ui:composition>
