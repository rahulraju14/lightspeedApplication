<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:ace="http://www.icefaces.org/icefaces/components"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

	<!-- The Audit Trail pane on the Timecard mini-tab of the Full Timecard page -->

	<!-- AUDIT TRAIL wrapper -->
	<div class="blueLegendContWrap MA">
		<h:panelGroup styleClass="blueLegendCont pad12tp FR">
			<div class="legendHdg">HTG Audit Trail</div>
			<div style="min-height:19px;"><!-- keeps size even if btn is hidden -->
				<h:panelGroup styleClass="btn_legend" rendered="#{(not fullTimecardBean.showAuditDetail) and
						(fullTimecardBean.weeklyTimecard.id ne null)}">
					<span class="btnMiniLtHot"/>
						<!-- was 'show detail' -->
						<ace:linkButton value="Show"
								action="#{fullTimecardBean.actionAuditShowDetail}" styleClass="btnMiniCt"
								onclick="queueClick(this,event);" />
					<span class="btnMiniRtHot"/>
				</h:panelGroup>
				<h:panelGroup styleClass="btn_legend" rendered="#{(fullTimecardBean.showAuditDetail) and
						(fullTimecardBean.weeklyTimecard.id ne null)}">
					<span class="btnMiniLtHot"/>
						<!-- was 'show summary' -->
						<ace:linkButton value="Hide"
								action="#{fullTimecardBean.actionAuditHideDetail}" styleClass="btnMiniCt"
								onclick="queueClick(this,event);" />
					<span class="btnMiniRtHot"/>
				</h:panelGroup>
				<h:panelGroup styleClass="btn_legend" rendered="#{(not empty authBean.pgFields['2.0,write_any']) and
						(fullTimecardBean.editMode) and
						(fullTimecardBean.weeklyTimecard.id ne null)}">
					<span class="btnMiniLtHot"/>
						<ace:linkButton value="Clear"
								action="#{fullTimecardBean.actionClearAuditTrail}" styleClass="btnMiniCt"
								onclick="queueClick(this,event);" />
					<span class="btnMiniRtHot"/>
				</h:panelGroup>
			</div>
			<table class="W100percnt BKwhite" style="border-collapse:collapse;"
					 cellpadding="0" cellspacing="0">
				<tr class="W100percnt">
					<td class="W95percnt">
						<div class="FL W100percnt">
							<h:outputText value="#{fullTimecardBean.auditTrail}" escape="false"
								rendered="#{fullTimecardBean.showAuditDetail}"/>
						</div>
					</td>
				</tr>
			</table>
		</h:panelGroup>
	</div>
</ui:composition>
