<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:ace="http://www.icefaces.org/icefaces/components"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:form>
	<c:set var="bean" value="#{realElementBean}"></c:set>

	<ace:dialog visible="#{bean.openViewMap}"
			header="Location Map"
			closable="true"
			draggable="true"
			modal="true"
			hideEffect="fade"
			showEffect="fade"
			resizable="false">
			<!-- =================== TODO: we need this title to be dynamic based on what is clicked : also I can rename the classes
					used in this popup to be generic once we move it to the common folder and rename the file ========================== -->
		<ace:ajax event="close" execute="@this" listener="#{bean.actionCancelViewMap}"/>

		<div class="popLocMapBdy">
			<div class="viewLocMapCont">
				<div class="FL popup_main CT">

					<h:graphicImage value=""
						rendered="#{bean.element.map ne null}"
						value="#{bean.realElement.map.content}" />

					 <!-- =============TODO: =============== this bean ref or image ref may be wrong or maybe we need special methods to
					 render them based on what's clicked? not sure -->
					<ace:graphicImage value="" style="#{(not empty bean.element.images) ? '' : 'display:none'}"
						value="#{image.content}" />
				</div>
			</div>

			<div class="popBtnCont2 padPop10tp">
				<span class="FR pad10rt">
					<span class="btnPriEnbLt" />
					<span>
					<ace:linkButton
						value="Close"
						action="#{bean.actionCancelViewMap}" styleClass="btnPriEnbCt" />
					</span>
					<span class="btnPriEnbRt" />
				</span>
			</div>
		</div>
	</ace:dialog>
</h:form>

</ui:composition>
